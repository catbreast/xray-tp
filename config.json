{
	"dns": {
		"hosts": {
			"domain:googleapis.cn": "googleapis.com",
			"geosite:category-ads-all": "127.0.0.1"
		},
		"servers": [{
				"address": "udp://8.8.8.8",
				"domains": [
					"geosite:geolocation-!cn"
				]
			},
			{
				"address": "https://101.6.6.6:8443/dns-query",
				"domains": [
					"geosite:cn",
					"geosite:geolocation-cn"
				]
			},
			"https://101.6.6.6:8443/dns-query"
		],
		"tag": "dns",
		"queryStrategy": "UseIP"
	},
	"inbounds": [{
			"listen": "0.0.0.0",
			"port": 12345,
			"protocol": "dokodemo-door",
			"settings": {
				"network": "tcp,udp",
				"followRedirect": true
			},
			"streamSettings": {
				"sockopt": {
					"tproxy": "tproxy"
				}
			}
		},
		{
			"listen": "127.0.0.1",
			"port": 1053,
			"protocol": "dokodemo-door",
			"settings": {
				"address": "1.0.0.1",
				"network": "tcp,udp",
				"port": 53
			},
			"tag": "dns-in"
		}
	],
	"log": {
		"loglevel": "info"
	},
	"outbounds": [{
			"domainStrategy": "AsIs",
			"protocol": "vmess",
			"settings": {
				"vnext": [{
					"address": "x.x.x.x",
					"port": 80,
					"users": [{
						"id": "759796e7-43ac-4758-a815-bdcbd146eb47",
						"security": "auto"
					}]
				}]
			},
			"streamSettings": {
				"network": "tcp",
				"security": "none",
				"tcpSettings": {
					"header": {
						"request": {
							"headers": {
								"Host": [
									"upos-tf-all-js.bilivideo.com"
								]
							},
							"path": [
								"/"
							]
						},
						"type": "http"
					}
				}
			},
			"tag": "proxy-gw"
		},
		{
			"domainStrategy": "AsIs",
			"protocol": "vmess",
			"settings": {
				"vnext": [{
					"address": "xx.xx.xx.xx",
					"port": 80,
					"users": [{
						"id": "41d8addf-db98-4731-afdb-50fe8ff8ee2f",
						"security": "auto"
					}]
				}]
			},
			"streamSettings": {
				"network": "tcp",
				"security": "none",
				"tcpSettings": {
					"header": {
						"request": {
							"headers": {
								"Host": [
									"upos-tf-all-tx.bilivideo.com"
								]
							},
							"path": [
								"/"
							]
						},
						"type": "http"
					}
				}
			},
			"tag": "proxy-cn"
		},
		{
			"protocol": "freedom",
			"tag": "direct"
		},
		{
			"protocol": "blackhole",
			"tag": "block"
		},
		{
			"protocol": "dns",
			"settings": {
				"address": "8.8.8.8",
				"userLevel": 1
			},
			"tag": "dns-out"
		}
	],
	"routing": {
		"domainStrategy": "AsIs",
		"rules": [{
				"inboundTag": [
					"dns-in"
				],
				"outboundTag": "dns-out",
				"type": "field"
			},
			{
				"outboundTag": "dns-out",
				"protocol": [
					"dns"
				],
				"type": "field"
			},
			{
				"ip": [
					"x.x.x.x",
					"xx.xx.xx.xx"
				],
				"outboundTag": "direct",
				"type": "field"
			},
			{
				"domain": [
					"domain:appcenter.ms",
					"domain:app-measurement.com",
					"domain:firebase.io",
					"domain:crashlytics.com",
					"domain:google-analytics.com"
				],
				"outboundTag": "block",
				"type": "field"
			},
			{
				"domain": [
					"geosite:category-ads-all"
				],
				"outboundTag": "block",
				"type": "field"
			},
			{
				"ip": [
					"geoip:private"
				],
				"outboundTag": "direct",
				"type": "field"
			},
			{
				"domain": [
					"geosite:private"
				],
				"outboundTag": "direct",
				"type": "field"
			},
			{
				"domain": [
					"geolocation-!cn"
				],
				"outboundTag": "proxy-gw",
				"type": "field"
			},
			{
				"ip": [
					"geoip:!cn"
				],
				"outboundTag": "proxy-gw",
				"type": "field"
			},
			{
				"domain": [
					"domain:googleapis.cn"
				],
				"outboundTag": "proxy-gw",
				"type": "field"
			},
			{
				"domain": [
					"geosite:cn"
				],
				"outboundTag": "proxy-cn",
				"type": "field"
			},
			{
				"ip": [
					"geoip:cn"
				],
				"outboundTag": "proxy-cn",
				"type": "field"
			}
		]
	}
}
